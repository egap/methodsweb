<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Macartan Humphreys">

<title>Methods for Impact Evaluations - 10 Strategies for Figuring out if X Causes Y</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/egap-logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Methods for Impact Evaluations</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../guides.html">
 <span class="menu-text">Guides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../coursebook/index.html">
 <span class="menu-text">Coursebook</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#randomization" id="toc-randomization" class="nav-link" data-scroll-target="#randomization">1. Randomization</a></li>
  <li><a href="#experimental-control-induced-unit-homogeneity" id="toc-experimental-control-induced-unit-homogeneity" class="nav-link" data-scroll-target="#experimental-control-induced-unit-homogeneity">2. Experimental Control (induced unit homogeneity)</a></li>
  <li><a href="#natural-experiments-as-if-randomization" id="toc-natural-experiments-as-if-randomization" class="nav-link" data-scroll-target="#natural-experiments-as-if-randomization">3. Natural experiments (as-if randomization)</a></li>
  <li><a href="#beforeafter-comparisons" id="toc-beforeafter-comparisons" class="nav-link" data-scroll-target="#beforeafter-comparisons">4. Before/after comparisons</a></li>
  <li><a href="#ex-post-controlling-i-regression" id="toc-ex-post-controlling-i-regression" class="nav-link" data-scroll-target="#ex-post-controlling-i-regression">5. Ex Post Controlling I: Regression</a></li>
  <li><a href="#ex-post-controlling-ii-matching-and-weighting" id="toc-ex-post-controlling-ii-matching-and-weighting" class="nav-link" data-scroll-target="#ex-post-controlling-ii-matching-and-weighting">6. Ex Post Controlling II: Matching and Weighting</a></li>
  <li><a href="#instrumental-variables-iv" id="toc-instrumental-variables-iv" class="nav-link" data-scroll-target="#instrumental-variables-iv">7. Instrumental variables (IV)</a></li>
  <li><a href="#regression-discontinuity-designs-rdd" id="toc-regression-discontinuity-designs-rdd" class="nav-link" data-scroll-target="#regression-discontinuity-designs-rdd">8. Regression discontinuity designs (RDD)</a></li>
  <li><a href="#process-tracing" id="toc-process-tracing" class="nav-link" data-scroll-target="#process-tracing">9. Process tracing</a></li>
  <li><a href="#front-door-strategies-argument-from-mechanisms" id="toc-front-door-strategies-argument-from-mechanisms" class="nav-link" data-scroll-target="#front-door-strategies-argument-from-mechanisms">10. Front Door Strategies (Argument from mechanisms)</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">10 Strategies for Figuring out if X Causes Y</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Macartan Humphreys </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>Experiments are a way of figuring out if something causes something else. The basic idea is: try it and find out. The tricky thing is figuring out how to try it out in a way that allows for confidence in beliefs about causal effects. A strategy that holds pride of place in the researcher’s toolkit is the randomized intervention. This is the strategy that is at the heart of most of the experimental research done by EGAP members. But there are other strategies that are sometimes more appropriate. Here we describe the ten most prominent strategies for figuring out causal effects.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
</section>
<section id="randomization" class="level1">
<h1>1. Randomization</h1>
<p>The strategy used in randomized control trials (or randomized interventions, randomized experiments) is to use some form of a lottery to determine who, among some group, will or won’t get access to a treatment or program (or perhaps who will get it first and who will get it later, or who will get one version and who will get another). The elegance of the approach is that it uses randomness to work out what the systematic effects of a program are. The randomness reduces the chance that an observed relationship between treatment and outcomes is due to “confounders”—other things that are different between groups (for example one might be worried that things look better in treatment areas precisely because programs choose to work in well-functioning areas, but knowing that the selection was random completely removes this concern). It is powerful because it guarantees that there is no systematic relationship between treatment and all other features that can affect outcomes, whether you are aware of them or not. For this reason it is often considered to be the gold standard. Randomization cannot be used always and everywhere however, both for ethical and practical reasons. But it can be used in many more situations than people think. See <a href="http://www.columbia.edu/~mh2245/papers1/HW_ARPS09.pdf">Humphreys and Weinstein</a> for a discussion of strengths and limitations of the approach for research in the political economy of development.</p>
</section>
<section id="experimental-control-induced-unit-homogeneity" class="level1">
<h1>2. Experimental Control (induced unit homogeneity)</h1>
<p>A second strategy used more in lab settings and also in the physical sciences is to use experimental control to ensure that two units are identical to each other in all relevant respects except for treatment. For example if you wanted to see if a heavy ball falls faster than a lighter ball you might make sure that they have the same shape and size and drop them both at the same time, under the same weather conditions, and so on. You then attribute any differences in outcomes to the feature that you did not keep constant between the two units. This strategy is fundamentally different to that used in randomized trials. In randomized trials you normally give up on the idea of keeping everything fixed and seek instead to make sure that natural variation—on variables that you can or cannot observe—does not produce bias in your estimates; in addition you normally seek to assess average effects across a range of background conditions rather than for a fixed set of background conditions. The merits of the control approach depend on your confidence that you can indeed control all relevant factors; if you cannot, then a randomized approach may be superior.</p>
</section>
<section id="natural-experiments-as-if-randomization" class="level1">
<h1>3. Natural experiments (as-if randomization)</h1>
<p>Sometimes researchers are not able to randomize, but causal inference is still possible because nature has done the randomization for you. The key feature of the “natural experiment” approach is that you have reason to believe that variation in some natural treatment is “as-if random.” For example say that seats in a school are allocated by lottery. Then you might be able to analyze the effects of school attendance as if it were a randomized control trial. One clever study of the effects of conflict on children by <a href="http://www.chrisblattman.com/documents/research/2010.Consequences.RESTAT.pdf">Annan and Blattman</a> used the fact that the Lord’s Resistance Army (LRA) in Uganda abducted children in a fairly random fashion. Another clever study on Disarmament, Demobilization, and Reintegration (DDR) programs by <a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=1911968">Gilligan, Mvukiyehe, and Samii</a> used the fact that an NGO’s operations were interrupted because of a contract dispute, which resulted in a “natural” control group of ex-combatants that did not receive demobilization programs. See <a href="http://www.cambridge.org/us/academic/subjects/politics-international-relations/research-methods-politics/natural-experiments-social-sciences-design-based-approach">Dunning’s book</a> for a guide to finding and analyzing natural experiments.</p>
</section>
<section id="beforeafter-comparisons" class="level1">
<h1>4. Before/after comparisons</h1>
<p>Often the first thing that people look to in order to work out causal effects is the comparison of units before and after treatment. Here you use the past as a control for the present. The basic idea is very intuitive: you switch the lightswitch off and you see the light switch off; attributing the light change to the action seems easy even in the absence of any randomization or control. But for many social interventions the approach is not that reliable, especially in changing environments. The problem is that things get better or worse for many reasons unrelated to treatments or programs you are interested in. In fact it is possible that because of all the other things that are changing, things can get worse in a program area even if the programs had a positive effect (so they get worse but are still not as bad as they would have been without the program!). A more sophisticated approach than simple before/after comparison is called “difference in differences” – basically you compare the before/after difference in treatment areas with those in control areas. This is a good approach but you still need to be sure that you have good control groups and in particular that control and treatment groups are not likely to change differently for reasons other than the treatment.</p>
</section>
<section id="ex-post-controlling-i-regression" class="level1">
<h1>5. Ex Post Controlling I: Regression</h1>
<p>Perhaps the most common approach to causal identification in applied statistical work is the use of multiple regression to control for possible confounders. The idea is to try to use whatever information you have about why treatment and control areas are not readily comparable and adjust for these differences statistically. This approach works well to the extent that you can figure out and measure the confounders and how they are related to treatment, but is not good if you don’t know what the confounders are. In general we just don’t know what all the confounders are and that exposes this approach to all kinds of biases (indeed if you control for the wrong variables it is possible to <em>introduce</em> bias where none existed previously).</p>
</section>
<section id="ex-post-controlling-ii-matching-and-weighting" class="level1">
<h1>6. Ex Post Controlling II: Matching and Weighting</h1>
<p>A variety of alternative approaches seek to account for confounding variables by carefully matching treatment units to one or many control units. Matching has some advantages over regression (for example, estimates can be less sensitive to choices of functional form), but the basic idea is nevertheless similar, and indeed matching methods can be implemented in a regression framework using appropriate weights. Like regression, at its core, this strategy depends on a conviction that there are no important confounding variables that the researcher is unaware of or is unable to measure. Specific methods include:</p>
<ul>
<li><a href="http://dept.stat.lsa.umich.edu/~bbh/hansen2004.pdf">optimal full- and pair-matching</a> and see the <a href="https://github.com/markmfredrickson/optmatch">optmatch package</a></li>
<li><a href="https://projecteuclid.org/euclid.aoas/1396966284">optimal pair-matching with fine-balance via mixed integer programming</a>. <a href="https://cran.rstudio.com/web/packages/designmatch">See also the designmatch package</a> and the <a href="http://jrzubizarreta.com/evaluation.pdf">paper comparing approaches</a></li>
<li><a href="https://projecteuclid.org/euclid.aoas/1536652962">optimal multi-level matching (for designs with schools and students)</a></li>
<li><a href="https://www.stat.berkeley.edu/~spi/software.html">sparse optimal matching</a></li>
<li><a href="https://arxiv.org/abs/1703.03882">generalized full matching</a></li>
<li><a href="http://gking.harvard.edu/cem">coarsened exact matching</a></li>
<li><a href="http://sekhon.berkeley.edu/papers/GenMatch.pdf">genetic matching</a></li>
<li><a href="http://web.stanford.edu/~jhain/Paper/PA2012.pdf">entropy balancing</a></li>
<li><a href="http://pan.oxfordjournals.org/content/18/1/36.short">inverse propensity weighting</a></li>
<li><a href="http://www.columbia.edu/~jz2313/sbw.pdf">stable balancing weights</a>, and the use of</li>
<li><a href="http://web.stanford.edu/~jhain/Paper/AJPS2015a.pdf">synthetic controls</a>.</li>
</ul>
</section>
<section id="instrumental-variables-iv" class="level1">
<h1>7. Instrumental variables (IV)</h1>
<p>Another approach to identifying causal effects is to look for a feature that explains why a given group got a treatment but which is otherwise unrelated to the outcome of interest. Such a feature is called an instrument. For example say you are interested in the effect of a livelihoods program on employment, and say it turned out that most people who got access to the livelihoods program did so because they were a relative of a particular program officer. Now suppose that being a relative of the program officer does not affect job prospects in any way other than through its effect on getting access to the livelihoods program. If so, then you can work out the effect of the program by understanding the effect of being a relative of the program officer on job prospects. This has been a fairly popular approach but the enthusiasm for it has died a bit, basically because it is hard to find a good instrument. One smart application are studies on the effects of poverty on conflict which use rainfall in Africa as an instrument for income/growth. While there are worries that the correlation between conflict and poverty may be due to the fact that conflict causes poverty, it does not seem plausible that conflict causes rainfall! So using rainfall as an instrument here gave a lot more confidence that really there is a causal, and not just correlational, relationship between <a href="http://emiguel.econ.berkeley.edu/research/economic-shocks-and-civil-conflict-an-instrumental-variables-approach">poverty and conflict</a>.</p>
</section>
<section id="regression-discontinuity-designs-rdd" class="level1">
<h1>8. Regression discontinuity designs (RDD)</h1>
<p>The regression discontinuity approach works as follows. Say that some program is going to be made available to a set of potential beneficiaries. These potential beneficiaries are all ranked on a set of relevant criteria, such as prior education levels, employment status, and so on. These criteria can be quantitative; but they can also include qualitative information such as assessments from interviews. These individual criteria are then aggregated into a single score and a threshold is identified. Candidates scoring above this threshold are admitted to the program, while those below are not. “Project” and “comparison” groups are then identified by selecting applicants that are close to this threshold on either side. Using this method we can be sure that treated and control units are similar, at least around the threshold. Moreover, we have a direct measure of the main feature on which they differ (their score on the selection criteria). This information provides the key to estimating a program effect from comparing outcomes between these two groups. The advantage of this approach is that all that is needed is that the implementing agency uses a clear set of criteria (which can be turned into a score) upon which they make treatment assignment decisions. The disadvantage is that really reliable estimates of impact can only be made for units right around the threshold. For overviews of RDD, see <a href="http://www-personal.umich.edu/~titiunik/papers/SkovronTitiunik2015.pdf">Skovron and Titiunik</a> and <a href="http://econ.sites.olt.ubc.ca/files/2014/02/Lee-Lemieux-rev.pdf">Lee and Lemieux</a>; for two interesting applications, see <a href="http://emiguel.econ.berkeley.edu/research/government-transfers-and-political-support">Manacorda et al.&nbsp;on Uruguay</a> and <a href="http://journals.cambridge.org/action/displayAbstract?fromPage=online&amp;aid=8963107">Samii on Burundi</a>.</p>
</section>
<section id="process-tracing" class="level1">
<h1>9. Process tracing</h1>
<p>In much qualitative work researchers try to establish causality by looking not just at whether being in a program is associated with better outcomes but (a) looking for steps in the process along the way that would tell you whether a program had the effects you think it had and (b) looking for evidence of other outcomes that should be seen if (or perhaps: if and only if) the program was effective. For example not just whether people in a livelihoods program got a job but whether they got trained in something useful, got help from people in the program to find an employer in that area, and so on. If all these steps are there, that gives confidence that the relationship is causal and not spurious. If a program was implemented but no one actually took part in it, this might give grounds to suspect that any correlation between treatment and outcomes is spurious. The difficulty with this approach is that it can be hard to know whether any piece of within-case evidence has probative value. For example a program may have positive (or negative) effects through lots of processes that you don’t know anything about and processes that you think are important, might not be. See <a href="http://www.columbia.edu/%7Emh2245/papers1/BIQQ.pdf">Humphreys and Jacobs</a> for a description of the Bayesian logic underlying process tracing and illustrations of how to combine it with other statistical approaches.</p>
</section>
<section id="front-door-strategies-argument-from-mechanisms" class="level1">
<h1>10. Front Door Strategies (Argument from mechanisms)</h1>
<p>A final approach, conceptually close to process tracing, is to make use of mechanisms. Say you know, as depicted in the picture below, that <span class="math inline">\(A\)</span> can cause <span class="math inline">\(C\)</span> only through <span class="math inline">\(B\)</span>. Say moreover that you know that no third variable causes both <span class="math inline">\(B\)</span> and <span class="math inline">\(C\)</span> (other than, perhaps, via <span class="math inline">\(A\)</span>) and no third variable causes both <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>. Then covariation between <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> and between <span class="math inline">\(B\)</span> and <span class="math inline">\(C\)</span> can be used to assess the effect of <span class="math inline">\(A\)</span> on <span class="math inline">\(C\)</span>. The advantage is that causality can be established even in the presence of confounders — for example even if, as in the picture below, unobserved variables cause both <span class="math inline">\(A\)</span> and <span class="math inline">\(C\)</span>. The difficulty however is that the strategy requires a lot of confidence in your beliefs about the structure of causal relations. For more see <a href="https://books.google.com/books?id=wnGU_TsW3BQC&amp;hl=en">Pearl (2000)</a>.</p>
<p><img src="dag.png" class="img-fluid"></p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Originating author: Macartan Humphreys. Minor revisions: Winston Lin, 30 August 2016. The guide is a live document and subject to updating by EGAP members at any time; contributors listed are not responsible for subsequent edits.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>