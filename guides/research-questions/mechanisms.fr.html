<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lindsay Dolan">

<title>Methods - 10 choses sur les m√©canismes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/egap-logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Methods</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../guides.html"> 
<span class="menu-text">Methods guides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../software.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../guides/research-questions/mechanisms.en.html">Language</a></li><li class="breadcrumb-item"><a href="../../guides/research-questions/mechanisms.fr.html"><img src="https://flagcdn.com/w20/fr.png" width="20px">&nbsp;&nbsp;French</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../guides/how-to-read.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to read this guide</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="true">
 <span class="menu-text">Language</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../guides/research-questions/mechanisms.en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="https://flagcdn.com/w20/gb.png" width="20px">&nbsp;&nbsp;English</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../guides/research-questions/mechanisms.fr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><img src="https://flagcdn.com/w20/fr.png" width="20px">&nbsp;&nbsp;French</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../guides/research-questions/mechanisms.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="https://flagcdn.com/w20/es.png" width="20px">&nbsp;&nbsp;Spanish</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../guides/research-questions/mechanisms.en.html">Language</a></li><li class="breadcrumb-item"><a href="../../guides/research-questions/mechanisms.fr.html"><img src="https://flagcdn.com/w20/fr.png" width="20px">&nbsp;&nbsp;French</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">10 choses sur les m√©canismes</h1>
</div>

<div class="quarto-title-meta">
    
    
    
    
</div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Summary</div>
    <p>En tant que chercheurs en sciences sociales, nous sommes fascin√©s par les questions causales. D√®s que nous apprenons que X cause Y, nous voulons mieux comprendre <em>pourquoi</em> X cause Y. Ce guide explore le r√¥le des ‚Äòm√©canismes‚Äô dans l‚Äôanalyse causale et vous aidera √† comprendre les types de conclusions que vous pouvez en tirer.</p>
  </div>
</div>
</header>

<nav id="TOC" role="doc-toc">
    <h4 id="toc-title">Contents</h4>
   
  <ul>
  <li><a href="#les-m√©canismes-sont-des-voies-par-lesquelles-x-cause-le-r√©sultat-y." id="toc-les-m√©canismes-sont-des-voies-par-lesquelles-x-cause-le-r√©sultat-y."><span class="header-section-number">1</span> Les m√©canismes sont des voies par lesquelles X cause le r√©sultat Y.</a></li>
  <li><a href="#bien-que-nous-nayons-pas-besoin-de-conna√Ætre-le-m√©canisme-pour-conclure-que-x-cause-y-il-y-a-plusieurs-raisons-pour-lesquelles-nous-le-voudrions." id="toc-bien-que-nous-nayons-pas-besoin-de-conna√Ætre-le-m√©canisme-pour-conclure-que-x-cause-y-il-y-a-plusieurs-raisons-pour-lesquelles-nous-le-voudrions."><span class="header-section-number">2</span> Bien que nous n‚Äôayons pas <em>besoin</em> de conna√Ætre le m√©canisme pour conclure que X cause Y, il y a plusieurs raisons pour lesquelles nous le <em>voudrions</em>.</a></li>
  <li><a href="#mais-il-est-extr√™mement-difficile-didentifier-les-m√©canismes-causaux-car-les-m√©canismes-eux-m√™mes-ne-sont-pas-assign√©s-de-mani√®re-al√©atoire" id="toc-mais-il-est-extr√™mement-difficile-didentifier-les-m√©canismes-causaux-car-les-m√©canismes-eux-m√™mes-ne-sont-pas-assign√©s-de-mani√®re-al√©atoire"><span class="header-section-number">3</span> Mais il est extr√™mement difficile d‚Äôidentifier les m√©canismes causaux car les m√©canismes eux-m√™mes ne sont pas assign√©s de mani√®re al√©atoire‚Ä¶</a></li>
  <li><a href="#et-parce-que-leffet-du-traitement-est-rarement-homog√®ne." id="toc-et-parce-que-leffet-du-traitement-est-rarement-homog√®ne."><span class="header-section-number">4</span> ‚Ä¶et parce que l‚Äôeffet du traitement est rarement homog√®ne.</a></li>
  <li><a href="#de-nombreuses-√©tudes-tentent-de-d√©composer-leffet-total-dun-traitement-entre-ses-effets-directs-et-indirects." id="toc-de-nombreuses-√©tudes-tentent-de-d√©composer-leffet-total-dun-traitement-entre-ses-effets-directs-et-indirects."><span class="header-section-number">5</span> De nombreuses √©tudes tentent de d√©composer l‚Äôeffet total d‚Äôun traitement entre ses effets ‚Äúdirects‚Äù et ‚Äúindirects‚Äù.</a></li>
  <li><a href="#mais-soyez-prudent-lorsque-vous-utilisez-une-r√©gression-pour-d√©composer-les-effets." id="toc-mais-soyez-prudent-lorsque-vous-utilisez-une-r√©gression-pour-d√©composer-les-effets."><span class="header-section-number">6</span> Mais soyez prudent lorsque vous utilisez une r√©gression pour d√©composer les effets.</a></li>
  <li><a href="#parfois-lanalyse-de-sous-groupes-peut-fournir-des-preuves-ou-suggestions-pour-ou-contre-un-m√©canisme." id="toc-parfois-lanalyse-de-sous-groupes-peut-fournir-des-preuves-ou-suggestions-pour-ou-contre-un-m√©canisme."><span class="header-section-number">7</span> Parfois, l‚Äôanalyse de sous-groupes peut fournir des preuves ou suggestions pour ou contre un m√©canisme.</a></li>
  <li><a href="#nous-pouvons-√©galement-rechercher-des-preuves-suggestives-en-examinant-leffet-de-notre-traitement-sur-divers-r√©sultats." id="toc-nous-pouvons-√©galement-rechercher-des-preuves-suggestives-en-examinant-leffet-de-notre-traitement-sur-divers-r√©sultats."><span class="header-section-number">8</span> Nous pouvons √©galement rechercher des preuves suggestives en examinant l‚Äôeffet de notre traitement sur divers r√©sultats.</a></li>
  <li><a href="#l√©laboration-de-traitements-complexes-peut-aider-√†-comprendre-quelle-partie-du-traitement-produit-leffet." id="toc-l√©laboration-de-traitements-complexes-peut-aider-√†-comprendre-quelle-partie-du-traitement-produit-leffet."><span class="header-section-number">9</span> L‚Äô√©laboration de traitements complexes peut aider √† comprendre quelle partie du traitement ‚Äúproduit l‚Äôeffet‚Äù.</a></li>
  <li><a href="#malgr√©-les-difficult√©s-√†-mesurer-empiriquement-les-m√©canismes-il-convient-de-sy-attarder-s√©rieusement-mais-d√™tre-prudent-dans-notre-langage." id="toc-malgr√©-les-difficult√©s-√†-mesurer-empiriquement-les-m√©canismes-il-convient-de-sy-attarder-s√©rieusement-mais-d√™tre-prudent-dans-notre-langage."><span class="header-section-number">10</span> Malgr√© les difficult√©s √† mesurer empiriquement les m√©canismes, il convient de s‚Äôy attarder s√©rieusement mais d‚Äô√™tre prudent dans notre langage.</a></li>
  </ul>
</nav>
<!-- title: "10 choses sur les m√©canismes" -->
<!-- author: 'Auteur du guide des m√©thodes: Lindsay Dolan' -->
<section id="les-m√©canismes-sont-des-voies-par-lesquelles-x-cause-le-r√©sultat-y." class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Les m√©canismes sont des voies par lesquelles X cause le r√©sultat Y.</h1>
<p>Les m√©canismes sont depuis longtemps au c≈ìur de la m√©decine. Chaque fois qu‚Äôune m√©decin prescrit un traitement, elle le fait en sachant quels facteurs chimiques ou physiques provoquent une maladie, et elle prescrit un traitement efficace car il interrompt ces facteurs. Par exemple, de nombreux cliniciens psychologues recommandent l‚Äôexercice aux patients souffrant de d√©pression. L‚Äôexercice augmente les endorphines dans la chimie du corps, qui d√©clenchent des sentiments positifs et agissent √©galement comme analg√©siques, ce qui r√©duit la perception de la douleur. Les endorphines sont donc un m√©canisme par lequel l‚Äôexercice aide √† r√©duire la d√©pression. L‚Äôexercice peut avoir des effets positifs sur un certain nombre d‚Äôautres variables d√©pendantes (par exemple, les maladies cardiaques) par voie d‚Äôautres m√©canismes (par exemple, l‚Äô√©l√©vation du rythme cardiaque), mais le m√©canisme qui l‚Äôam√®ne √† affecter la d√©pression en particulier est l‚Äôendorphine. Nous pourrions √©galement conclure qu‚Äôun autre traitement, tel qu‚Äôun m√©dicament qui augmente les endorphines, peut avoir des effets similaires sur la d√©pression.</p>
<p>Les m√©canismes sont tout aussi importants pour les sciences sociales. Prenez, par exemple, des recherches r√©centes qui ont associ√© le changement climatique √† une augmentation des conflits civils. Une √©tude<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> pr√©tend identifier l‚Äôeffet causal des chocs climatiques sur les conflits violents en √©tudiant le taux de conflits civils dans les pays touch√©s par El Ni√±o pendant les ann√©es El Ni√±o par rapport aux ann√©es sans El Ni√±o. Supposons que cette √©tude soit correcte. Pourquoi subir un choc climatique causerait des niveaux de conflit √©lev√©s dans un pays ? Un m√©canisme pourrait √™tre la pauvret√© : les chocs climatiques nuisent √† l‚Äô√©conomie, et avec des co√ªts d‚Äôopportunit√© inf√©rieurs, les individus sont plus enclins √† rejoindre des groupes arm√©s. Un m√©canisme alternatif est physiologique : les gens sont physiquement c√¢bl√©s pour √™tre plus agressifs par temps chaud. Le m√©canisme est peut-√™tre la migration : les chocs climatiques d√©placent les populations des r√©gions c√¥ti√®res, ce qui produit des conflits sociaux entre migrants et autochtones. En r√©alit√©, plusieurs ou tous ces m√©canismes (ainsi que d‚Äôautres non list√©s ici) pourraient fonctionner simultan√©ment ! Dans bon nombre des questions les plus int√©ressantes en sciences sociales, il existe plusieurs canaux (ou m√©canismes ‚ÄúM‚Äù) qui pourraient transmettre l‚Äôeffet total de X sur Y.</p>
</section>
<section id="bien-que-nous-nayons-pas-besoin-de-conna√Ætre-le-m√©canisme-pour-conclure-que-x-cause-y-il-y-a-plusieurs-raisons-pour-lesquelles-nous-le-voudrions." class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Bien que nous n‚Äôayons pas <em>besoin</em> de conna√Ætre le m√©canisme pour conclure que X cause Y, il y a plusieurs raisons pour lesquelles nous le <em>voudrions</em>.</h1>
<p>Dans l‚Äôexemple climat/conflit ci-dessus, nous pouvons avoir une confiance totale dans la capacit√© des chercheurs √† identifier que les chocs climatiques causent des conflits, et pourtant n‚Äôavons aucune preuve des m√©canismes qui sont √† l‚Äô≈ìuvre. Mais les chercheurs en sciences sociales aiment en apprendre davantage sur les m√©canismes parce qu‚Äôils sont √©troitement li√©s aux th√©ories des sciences sociales. Par exemple, le m√©canisme de ‚Äúpauvret√©‚Äù ci-dessus est √©troitement li√© √† la th√©orie de Gurr<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> selon laquelle les individus se rebellent lorsque les co√ªts d‚Äôopportunit√© du conflit sont faibles, alors que le m√©canisme de ‚Äúmigration‚Äù pourrait soutenir une th√©orie du conflit bas√©e sur des griefs entre groupes sociaux. Il n‚Äôest pas √©tonnant qu‚Äôen apprenant que X cause Y, les chercheurs en sciences sociales se demandent imm√©diatement quel est le m√©canisme - ils veulent relier cette d√©couverte √† la th√©orie !</p>
<p>Comprendre les m√©canismes a non seulement des avantages th√©oriques mais aussi pratiques. Premi√®rement, conna√Ætre M permet de deviner pour quelles populations X conduira √† Y. Si le m√©canisme du climat/conflit est une r√©ponse physiologique √† la chaleur, alors les chocs climatiques peuvent produire des conflits uniquement lorsque la temp√©rature est assez √©lev√©e. Deuxi√®mement, conna√Ætre M nous aide √† consid√©rer d‚Äôautres r√©sultats qui peuvent √™tre affect√©s par X. Si le m√©canisme du climat/conflit est la migration, alors nous pouvons √©galement nous attendre √† ce que les chocs climatiques entra√Ænent une surutilisation des biens publics dans les zones urbaines. Troisi√®mement, conna√Ætre M nous aide √† envisager d‚Äôautres moyens de provoquer ou d‚Äô√©viter de provoquer des changements dans Y. Si le m√©canisme du climat/conflit est la pauvret√©, alors les programmes de d√©veloppement pourraient diminuer les conflits en r√©duisant la sensibilit√© des revenus aux chocs climatiques, m√™me s‚Äôils ne peuvent pas changer les chocs climatiques.</p>
</section>
<section id="mais-il-est-extr√™mement-difficile-didentifier-les-m√©canismes-causaux-car-les-m√©canismes-eux-m√™mes-ne-sont-pas-assign√©s-de-mani√®re-al√©atoire" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Mais il est extr√™mement difficile d‚Äôidentifier les m√©canismes causaux car les m√©canismes eux-m√™mes ne sont pas assign√©s de mani√®re al√©atoire‚Ä¶</h1>
<p>Prenons un exemple exp√©rimental. Chong et al.&nbsp;(2015)<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> ont utilis√© une exp√©rience de terrain pour √©tudier l‚Äôeffet des informations √† propos de la corruption sur la participation √©lectorale. Ils ont assign√© de mani√®re al√©atoire certains bureaux de vote au Mexique pour recevoir des informations sur l‚Äôutilisation corrompue des fonds au sein de cette municipalit√©. √âtonnamment, ils ont d√©couvert que les circonscriptions trait√©es votaient √† des taux inf√©rieurs aux circonscriptions de contr√¥le. Ils sugg√®rent le m√©canisme suivant √† l‚Äô≈ìuvre : les informations sur la corruption convainquent les √©lecteurs que la municipalit√© est si gravement corrompue que l‚Äô√©lection d‚Äôun bon politicien ne la changera pas, de sorte que les individus trouvent que leur vote a moins de valeur.</p>
<p>En bref, leur argument est :<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>R√©ception d‚Äôinformations sur la corruption (X) <span class="math inline">\(\xrightarrow{+}\)</span> Estime que la corruption est trop grave (M) <span class="math inline">\(\xrightarrow{+}\)</span> Reste √† la maison (Y)</p>
<p>Chong et al.&nbsp;font face √† un obstacle commun dans l‚Äôinterpr√©tation de leurs r√©sultats : le m√©canisme qu‚Äôils proposent n‚Äôa pas √©t√© assign√© de mani√®re al√©atoire. Certaines personnes sont plus enclines √† croire que ‚Äútous les politiciens sont des vauriens‚Äù, tandis que d‚Äôautres ont tendance √† faire pression pour ‚Äúun changement auquel nous pouvons croire‚Äù. Malheureusement, nous ne pouvons observer que le traitement al√©atoire qu‚Äôun individu a re√ßu et sa croyance (non al√©atoire) au sujet de la corruption ; nous ne pouvons pas dire quelle croyance au sujet de la corruption ils <em>auraient eu</em> s‚Äôils avaient re√ßu l‚Äôautre condition de traitement. Il nous est donc impossible de d√©terminer, pour chaque individu, dans quelle mesure sa d√©cision d‚Äôaller voter a √©t√© caus√©e par le m√©canisme propos√© par rapport √† d‚Äôautres m√©canismes.</p>
<p>Certains chercheurs tentent de contourner ce probl√®me en estimant l‚Äôeffet <em>moyen</em> du traitement sur le m√©canisme, puis en estimant l‚Äôeffet <em>moyen</em> du m√©canisme sur le r√©sultat. L‚Äôune des raisons pour lesquelles cela est probl√©matique est que nous pouvons imaginer plusieurs facteurs autres que le traitement qui pourraient causer √† la fois M et Y. Supposons que le niveau d‚Äôapathie - appelons-le Q - varie parmi les citoyens de notre √©tude, et Q a un effet tr√®s fort sur M et Y. Les personnes tr√®s apathiques pourraient √™tre plus susceptibles de croire que les probl√®mes sont insolubles, et elles pourraient √©galement √™tre plus susceptibles de rester √† la maison le jour du scrutin. Nous sommes donc susceptibles d‚Äôobserver une forte corr√©lation entre M et Y qui est induite par le facteur de confusion Q, et non par notre traitement X. M√©caniquement, nos r√©sultats seront biais√©s en faveur de la recherche de preuves de l‚Äôeffet de X sur Y via M simplement parce que Q a produit une relation entre M et Y.</p>
</section>
<section id="et-parce-que-leffet-du-traitement-est-rarement-homog√®ne." class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> ‚Ä¶et parce que l‚Äôeffet du traitement est rarement homog√®ne.</h1>
<p>L‚Äôautre probl√®me lorsque l‚Äôon essaie de d√©composer l‚Äôeffet moyen de X sur M puis de M sur Y est que cette approche suppose que chaque sujet r√©ponde au traitement de mani√®re identique. En revenant √† notre exemple dans lequel X est le traitement de l‚Äôinformation, M est la conviction que la corruption est trop s√©v√®re, et Y le fait de rester √† la maison, nous pouvons imaginer deux types de r√©pondants. Le type A pensait que la corruption √©tait trop grave pour √™tre r√©solue jusqu‚Äô√† ce qu‚Äôelle re√ßoive une lettre contenant des informations sur la corruption dans son district. Elle fut surprise de voir que le probl√®me n‚Äô√©tait pas aussi grave qu‚Äôelle l‚Äôavait pens√©. Formellement, pour le type A, <span class="math inline">\(M(X=0)=1\)</span> et <span class="math inline">\(M(X=1)=0\)</span>, donc X a un effet <em>n√©gatif</em> sur M. Le type B pensait que la corruption √©tait un probl√®me g√©rable jusqu‚Äô√† ce qu‚Äôelle re√ßoive une lettre contenant des informations sur la corruption dans son district. Elle a √©t√© surprise par l‚Äôampleur du probl√®me et a abandonn√© tout espoir de r√©soudre le probl√®me. Formellement, pour le type B, <span class="math inline">\(M(X=0)=0\)</span> et <span class="math inline">\(M(X=1)=1\)</span>, donc X a un effet <em>positif</em> sur M. Si nous devions faire la moyenne des effets pour ces deux types, nous ne verrions aucune relation entre X et M.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>X (traitement de l‚Äôinfo)</th>
<th>M conditionnel √† X=0 (non observ√©)</th>
<th>M conditionnel √† X=1 (observ√©)</th>
<th>Effet de X sur M</th>
<th>Effet de M sur Y</th>
<th>Y (Reste √† la maison)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>n√©gatif</td>
<td>n√©gatif</td>
<td>1</td>
</tr>
<tr class="even">
<td>B</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>positif</td>
<td>positif</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>L‚Äôestimation du r√¥le de M peut √™tre encore plus compliqu√©e lorsque la relation entre M et Y est √©galement h√©t√©rog√®ne. Imaginez que le type A ne vote que lorsqu‚Äôelle est en col√®re (en d‚Äôautres termes, M a un effet <em>n√©gatif</em> sur Y). Le type A pr√©voyait de voter pour exprimer sa col√®re face √† l‚Äôomnipr√©sence de la corruption dans son district, m√™me si elle savait que cela n‚Äôaurait rien chang√©, jusqu‚Äô√† ce qu‚Äôelle apprenne que la corruption n‚Äô√©tait pas aussi grave qu‚Äôelle l‚Äôavait imagin√©e. Sa col√®re disparue, elle choisit de rester √† la maison le jour des √©lections. Cependant, le type B ne vote que lorsqu‚Äôelle pense que son vote peut faire la diff√©rence (en d‚Äôautres termes, M a un effet <em>positif</em> sur Y). Le type B allait voter pour les politiciens non corrompus de son district jusqu‚Äô√† ce qu‚Äôelle apprenne qu‚Äôils √©taient tous corrompus. Sans aucun espoir de changer la situation, elle a √©galement d√©cid√© de rester chez elle le jour du scrutin. Pour les types A et B, il existe un ‚Äúeffet indirect‚Äù de M (en d‚Äôautres termes, X affecte Y √† travers M). Mais nous passerons √† c√¥t√© de cette relation dans l‚Äôensemble car nous ne serons pas en mesure d‚Äôobtenir des estimations non biais√©es de l‚Äôeffet moyen de X sur M.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<p>Nous pouvons imaginer beaucoup plus de ‚Äútypes‚Äù que A et B ‚Äì le but ici est de d√©montrer intuitivement que parce que M n‚Äôest pas assign√© de mani√®re al√©atoire, et parce qu‚Äôil est peu probable que les effets de X sur M <em>et</em> M sur Y soient identiques pour tout le monde, il sera tr√®s difficile de caract√©riser avec pr√©cision l‚Äôentremise de M pour notre effet.</p>
</section>
<section id="de-nombreuses-√©tudes-tentent-de-d√©composer-leffet-total-dun-traitement-entre-ses-effets-directs-et-indirects." class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> De nombreuses √©tudes tentent de d√©composer l‚Äôeffet total d‚Äôun traitement entre ses effets ‚Äúdirects‚Äù et ‚Äúindirects‚Äù.</h1>
<p>Parce que l‚Äôapprentissage des m√©canismes est riche en promesses th√©oriques, les chercheurs aimeraient quantifier dans quelle mesure un effet de X sur Y op√®re via M. Parfois, les chercheurs essaieront de le faire gr√¢ce √† une technique appel√©e ‚Äúd√©composition des effets‚Äù.</p>
<p>Une analyse de d√©composition des effets tente de d√©composer un effet <em>total</em> de X sur Y en l‚Äôeffet que X a sur Y <em>directement</em> et l‚Äôeffet de X sur Y qui se produit <em>indirectement</em> via M. ‚ÄúL‚Äôeffet total‚Äù fait r√©f√©rence √† l‚Äôeffet moyen du traitement (average treatment effect, ATE), qui est simplement l‚Äôeffet moyen de X sur Y. Toute exp√©rience qui assigne de mani√®re al√©atoire un traitement afin d‚Äôobserver ses effets sur certains r√©sultats √©value l‚ÄôATE. Ensuite, le chercheur essaie de quantifier la taille de l‚Äôeffet que X a sur Y √† travers le m√©canisme M. C‚Äôest ce qu‚Äôon appelle souvent ‚Äúl‚Äôeffet indirect‚Äù ‚Äì parce que X affecte indirectement Y via M ‚Äì ou l‚Äôeffet moyen causal par m√©diation (average causally mediated effect, ACME). Enfin, le chercheur tentera d‚Äôestimer l‚Äôeffet de X sur Y qui ne passe pas par M. C‚Äôest ce qu‚Äôon appelle ‚Äúl‚Äôeffet direct‚Äù de X sur Y ou l‚Äôeffet moyen direct contr√¥l√© (average controlled direct effect, ACDE), car c‚Äôest l‚Äôeffet de X sur Y lorsque nous contr√¥lons le travail effectu√© par M.</p>
</section>
<section id="mais-soyez-prudent-lorsque-vous-utilisez-une-r√©gression-pour-d√©composer-les-effets." class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Mais soyez prudent lorsque vous utilisez une r√©gression pour d√©composer les effets.</h1>
<p>Bien que couramment utilis√©e, l‚Äôanalyse de r√©gression par m√©diation pr√©suppose des hypoth√®ses fortes et souvent irr√©alistes. Nous utiliserons du code pour illustrer ce que cette m√©thode implique et d√©montrer les conditions dans lesquelles elle peut produire des estimations biais√©es.</p>
<p>L‚Äôid√©e de base est que si nous avons des donn√©es sur le traitement qu‚Äôun individu a re√ßu (X), s‚Äôil pr√©sente le m√©canisme propos√© (M) et quel est le r√©sultat (Y), alors nous pouvons distinguer ces effets en utilisant les trois r√©gressions suivantes.</p>
<ol type="1">
<li><span class="math display">\[ M_i = \alpha_1+aX_i+e_{1i} \]</span></li>
<li><span class="math display">\[ Y_i = \alpha_2+cX_i+e_{2i} \]</span></li>
<li><span class="math display">\[ Y_i = \alpha_3+dX_i+bM_i+e_{3i} \]</span></li>
</ol>
<p>Comment ferions-nous cela? En utilisant l‚Äô√©quation 1, nous faisons la r√©gression de M sur X pour obtenir l‚Äôeffet direct de X sur M, qui est le coefficient <span class="math inline">\(a\)</span>. Ensuite, nous passons √† l‚Äô√©quation 3, dans laquelle nous faisons la r√©gression de Y sur M et X. Dans cette r√©gression, le coefficient <span class="math inline">\(b\)</span> repr√©sente l‚Äôeffet direct de M sur Y lorsque nous contr√¥lons pour X. Une analyse de d√©composition des effets multiplierait <span class="math inline">\(a*b\)</span> pour r√©v√©ler l‚Äôeffet indirect de X sur Y via M. Pour trouver l‚Äôeffet direct de X sur Y, nous n‚Äôavons pas besoin de chercher plus loin que <span class="math inline">\(d\)</span>, qui est le coefficient de X dans l‚Äô√©quation 3 lorsque nous contr√¥lons pour M. En d‚Äôautres termes, <span class="math inline">\(d\)</span> est l‚Äôeffet de X sur Y qui ne passe pas par M. Si l‚Äôon additionne l‚Äôeffet indirect et l‚Äôeffet direct, on obtient ‚Äúl‚Äôeffet total‚Äù de X sur Y, qui est √©gal √† <span class="math inline">\(c\)</span>. Pour r√©sumer, l‚Äôanalyse de d√©composition des effets d√©sagr√®ge ostensiblement l‚Äôeffet total en effet qui est m√©di√© via M et l‚Äôeffet qui n‚Äôest pas m√©di√© via M, permettant au chercheur de conclure √† quel point M est important pour expliquer la relation entre X et Y.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<p>Le probl√®me est que cette arithm√©tique ne fonctionne que sous certaines hypoth√®ses tr√®s fortes. L‚Äôune de ces hypoth√®ses est que les termes d‚Äôerreur dans les r√©gressions 1 et 3 ne sont pas li√©s les uns aux autres - en d‚Äôautres termes, M ne peut pas √™tre pr√©dit par des facteurs non observables qui pr√©disent √©galement Y. Nous avons d√©crit ce probl√®me intuitivement au point 3 lorsque nous avons introduit Q, une variable de confusion qui contribue √† la fois √† M et √† Y et engendre donc une relation tr√®s forte entre eux, m√™me si l‚Äôeffet de X sur Y ne s‚Äôexerce pas du tout √† travers M. D√©crivons maintenant ce probl√®me √† l‚Äôaide d‚Äôune simulation.</p>
<p>Dans le code suivant, nous commen√ßons par cr√©er cette variable Q pour chaque individu et d√©finir les ‚Äúvrais‚Äù effets de X sur M, M sur Y et X sur Y. Ensuite, nous cr√©ons des r√©sultats potentiels hypoth√©tiques pour M, c‚Äôest-√†-dire que pour chaque individu, nous d√©finissons quelle valeur de M ils r√©v√©leraient s‚Äôils √©taient trait√©s, et quelle valeur de M ils r√©v√©leraient s‚Äôils n‚Äô√©taient pas trait√©s. Ces valeurs sont li√©es non seulement au ‚Äúvrai‚Äù effet de X sur M, mais aussi √† Q. Ensuite, nous pouvons √©galement d√©finir des r√©sultats potentiels hypoth√©tiques pour Y. Nous faisons cela pour quatre sc√©narios, qui supposent tous des effets constants, une hypoth√®se que nous rel√¢cherons plus tard. Deux d‚Äôentre eux sont des r√©sultats potentiels simples de Y : le Y pr√©sent√© par l‚Äôindividu qui n‚Äôest pas trait√© et r√©v√®le son r√©sultat potentiel M non trait√©, et le Y pr√©sent√© par l‚Äôindividu qui est trait√© et r√©v√®le son r√©sultat potentiel M trait√©. Cependant, nous d√©finissons √©galement deux r√©sultats potentiels complexes de Y : le Y pr√©sent√© par l‚Äôindividu qui n‚Äôest pas trait√© mais qui r√©v√®le son r√©sultat potentiel M trait√©, et le Y pr√©sent√© par l‚Äôindividu qui est trait√© mais qui r√©v√®le son r√©sultat potentiel M non trait√©. Bien que ces r√©sultats potentiels compliquent la compr√©hension, ils sont importants √† d√©finir afin que nous puissions calculer les effets directs et indirects ‚Äúvrais‚Äù (mais intrins√®quement inobservables) auxquels comparer notre analyse de d√©composition.</p>
<p>Dans la seconde moiti√© du code, nous effectuons une assignation al√©atoire du traitement et proc√©dons √† l‚Äôanalyse de d√©composition des effets d√©crite ci-dessus, en utilisant les donn√©es que nous ‚Äúobservons‚Äù. Sous les hypoth√®ses (fortes) selon lesquelles les termes d‚Äôerreur ne sont pas corr√©l√©s et les effets sont constants entre les sujets, <span class="math inline">\(a*b\)</span> = ACME, <span class="math inline">\(d\)</span> = ACDE et <span class="math inline">\(c\)</span> = ATE. Cependant, la simulation r√©v√®le que <span class="math inline">\(a*b\)</span> &gt; ACME et <span class="math inline">\(d\)</span> &lt; ACDE ; c‚Äôest-√†-dire que nous avons surestim√© l‚ÄôACME et sous-estim√© l‚ÄôACDE. Notre analyse de d√©composition des effets √©tait biais√©e car la premi√®re hypoth√®se - termes d‚Äôerreur non corr√©l√©s - n‚Äô√©tait pas v√©rifi√©e : la variable non observ√©e Q pr√©disait √† la fois M et Y, ce qui nous a conduit √† surestimer le r√¥le du m√©canisme M.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20160301</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">1000000</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># simuler des donn√©es, cr√©er des r√©sultats potentiels (RP), estimer les effets "r√©els"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># construire une caract√©ristique non observ√©e id√©osyncratique</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>Q_i <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(N)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># cr√©er le "vrai mod√®le" en d√©finissant l'effet du traitement (tau)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>tau_X_on_M <span class="ot">&lt;-</span> <span class="fl">0.2</span> <span class="co"># effet de X sur M</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>tau_M_on_Y <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="co"># effet de M sur Y</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>tau_X_on_Y <span class="ot">&lt;-</span> <span class="fl">0.5</span> <span class="co"># effet total de X sur Y (ATE), √† travers M et non M</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># construire les r√©sultats potentiels pour le m√©diateur</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># individu r√©v√®le M_1 s'il est trait√© ; M_0 si non trait√©</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># M est fonction √† la fois du traitement et de la caract√©ristique non observ√©e</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>M_0 <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="sc">*</span> tau_X_on_M <span class="sc">+</span> Q_i</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>M_1 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">*</span> tau_X_on_M <span class="sc">+</span> Q_i</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># nous pouvons estimer l'effet moyen du traitement (ATE) non biais√© de X sur M</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>ATE_M <span class="ot">&lt;-</span> <span class="fu">mean</span>(M_1 <span class="sc">-</span> M_0)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>ATE_M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># construire les r√©sultats potentiels (RP) pour le r√©sultat</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>Y_M0_X0 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_0) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">0</span> <span class="sc">+</span> Q_i</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>Y_M1_X1 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_1) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">1</span> <span class="sc">+</span> Q_i</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>Y_M0_X1 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_0) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">1</span> <span class="sc">+</span> Q_i <span class="co"># Ceci est un RP "complexe"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>Y_M1_X0 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_1) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">0</span> <span class="sc">+</span> Q_i <span class="co"># Ceci est un RP "complexe"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># certains de ces RP sont "complexes" car nous imaginons ce que nous</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># observerions si nous avions assign√© au traitement mais observ√© le RP de M non trait√© ou</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># si nous avions assign√© au contr√¥le mais observ√© le RP de M trait√©</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># la construction de ces RP complexes est n√©cessaire pour estimer les "vrais" effets directs et indirects</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># nous pouvons estimer l'ACME</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># nous estimons les effets de M en maintenant X constant</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ce sont les m√™mes</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># c'est "l'effet indirect"</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>ACME_X0 <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y_M1_X0 <span class="sc">-</span> Y_M0_X0)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>ACME_X1 <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y_M1_X1 <span class="sc">-</span> Y_M0_X1)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>ACME <span class="ot">&lt;-</span> <span class="fu">mean</span>(((Y_M1_X1 <span class="sc">-</span> Y_M0_X1) <span class="sc">+</span> (Y_M1_X0 <span class="sc">-</span> Y_M0_X0)) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># nous pouvons estimer l'ACDE</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># nous estimons les effets de X en maintenant M constant</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ce sont les m√™mes</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># c'est "l'effet direct"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>ACDE_M0 <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y_M0_X1 <span class="sc">-</span> Y_M0_X0)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>ACDE_M1 <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y_M1_X1 <span class="sc">-</span> Y_M1_X0)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>ACDE <span class="ot">&lt;-</span> <span class="fu">mean</span>(((Y_M0_X1 <span class="sc">-</span> Y_M0_X0) <span class="sc">+</span> (Y_M1_X1 <span class="sc">-</span> Y_M1_X0)) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># maintenant, nous construisons les RP simples pour Y</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>Y_1 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_1) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">1</span> <span class="sc">+</span> Q_i</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>Y_0 <span class="ot">&lt;-</span> tau_M_on_Y <span class="sc">*</span> (M_0) <span class="sc">+</span> tau_X_on_Y <span class="sc">*</span> <span class="dv">0</span> <span class="sc">+</span> Q_i</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># on estime le vrai ATE de X sur Y</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># c'est l'effet "total"</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>ATE <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y_1 <span class="sc">-</span> Y_0)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>ATE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ACDE <span class="sc">+</span> ACME <span class="co"># noter que les effets directs et indirects s'additionnent au total</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ACDE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ACME</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.02</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>ATE_M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assignation al√©atoire, r√©v√©lation des RPs, tentative de d√©composition des effets</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># nous assignons la moiti√© de notre √©chantillon au traitement et l'autre moiti√© au contr√¥le</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, (N <span class="sc">/</span> <span class="dv">2</span>)), <span class="fu">rep</span>(<span class="dv">0</span>, (N <span class="sc">/</span> <span class="dv">2</span>))))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># nous r√©v√©lons les RPs pour M et Y en fonction de l'assignation de traitement</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> X <span class="sc">*</span> M_1 <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">-</span> X) <span class="sc">*</span> M_0</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> X <span class="sc">*</span> Y_1 <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">-</span> X) <span class="sc">*</span> Y_0</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(M <span class="sc">~</span> X)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">coef</span>(model1)[<span class="dv">2</span>] <span class="co"># extrait le coefficient pour obtenir l'effet de X sur M</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        X 
0.2001291 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> X)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">coef</span>(model2)[<span class="dv">2</span>] <span class="co"># extrait le coefficient pour obtenir l'effet total de X sur Y</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       X 
0.520142 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> X <span class="sc">+</span> M)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">coef</span>(model3)[<span class="dv">2</span>] <span class="co"># extrait le coefficient pour obtenir l'effet de X sur Y en contr√¥lant pour M</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">coef</span>(model3)[<span class="dv">3</span>] <span class="co"># extrait le coefficient pour obtenir l'effet de M sur Y en contr√¥lant pour X</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># on pourrait multiplier maintenant l'effet moyen de X sur M et l'effet moyen de M sur Y</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># pour obtenir l'ACME de X sur Y via M</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       X 
0.220142 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mais quand on compare cela au vrai ACME, on voit que c'est biais√©</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>ACME</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.02</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># on pourrait √©galement interpr√©ter l'effet moyen de X sur Y en contr√¥lant M comme l'ACDE</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X 
0.3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mais quand on compare cela au vrai ACDE, on voit que c'est biais√©</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>ACDE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># notez que nous avons SUR-estim√© l'effet indirect moyen et SOUS-estim√© l'effet direct moyen</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># les estimations qui ne sont pas biais√©es sont les effets moyens de X sur Y et de X sur M</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># car X est assign√© de mani√®re al√©atoire</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        X 
0.2001291 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>ATE_M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       X 
0.520142 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>ATE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.52</code></pre>
</div>
</div>
<p>Relions cet exercice √† la question soulev√©e au point 3. Cette simulation a illustr√© que la quantification de l‚Äôeffet de m√©diation s‚Äôav√®re difficile lorsque les variables pr√©dictives de base confondent la relation entre M et Y. √âtant donn√© que M n‚Äôest pas assign√© de mani√®re al√©atoire, il est important pour nous de r√©fl√©chir √† la probabilit√© que notre M et notre Y soient tous deux affect√©s par des variables non observ√©es. En principe, s‚Äôil n‚Äôy a pas de variables de confusion dans cette relation, alors une analyse de d√©composition des effets peut √™tre non biais√©e, mais cette hypoth√®se est forte et g√©n√©ralement difficile √† prouver.</p>
<p>M√™me si nous ne l‚Äôavons pas d√©montr√© dans cette simulation, il est √©galement possible de montrer que la d√©composition des effets est √©galement inappropri√©e lorsque l‚Äôeffet du traitement est h√©t√©rog√®ne (nous avons introduit cette intuition au point 4). La raison technique de ceci vient de notre loi de l‚Äôesp√©rance, qui est : <span class="math inline">\(E[a*b]\)</span> = <span class="math inline">\(E[a]E[b]+cov(a,b)\)</span>. Si nous avons un effet de traitement constant, alors <span class="math inline">\(a\)</span> et <span class="math inline">\(b\)</span> ne covarient pas, le terme de covariance dispara√Æt et nous pouvons simplement multiplier <span class="math inline">\(a*b\)</span> pour obtenir l‚ÄôACME. Cependant, si le terme de covariance est non nul, alors nous ne sommes pas en mesure d‚Äôestimer cet effet indirect √† partir de ces deux coefficients obtenus √† partir de r√©gressions distinctes. Nous avons construit un effet de traitement constant afin de pouvoir d√©montrer le processus d‚Äôeffets de d√©composition, mais si nous devions refaire la simulation avec un effet de traitement h√©t√©rog√®ne qui varie, nous ne serions m√™me pas en mesure de calculer l‚ÄôACME ou l‚ÄôACDE en utilisant l‚Äôapproche des r√©sultats potentiels au d√©but du code.</p>
<p><strong>Ce que vous pouvez faire‚Ä¶</strong> Avant de vous lancer dans une analyse de d√©composition des effets, demandez-vous :</p>
<ul>
<li>Puis-je imaginer des variables non observ√©es qui pr√©disent √† la fois M et Y ?</li>
<li>Est-il possible que mes sujets r√©agissent √† l‚Äôeffet du traitement de diff√©rentes mani√®res ?</li>
</ul>
<p>Si la r√©ponse √† l‚Äôune de ces questions est oui, nous vous recommandons fortement de proc√©der avec prudence. En particulier, r√©fl√©chissez bien √† la mani√®re dont les variables non observ√©es et l‚Äôeffet du traitement h√©t√©rog√®ne affecteraient votre strat√©gie d‚Äôestimation.</p>
</section>
<section id="parfois-lanalyse-de-sous-groupes-peut-fournir-des-preuves-ou-suggestions-pour-ou-contre-un-m√©canisme." class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Parfois, l‚Äôanalyse de sous-groupes peut fournir des preuves ou suggestions pour ou contre un m√©canisme.</h1>
<p>Aux points 3-6, nous avons mis en garde les chercheurs contre toute tentative de quantifier avec confiance la proportion d‚Äôun effet m√©di√© par un m√©canisme particulier, mais il peut exister d‚Äôautres moyens d‚Äôen savoir plus sur les m√©canismes √† l‚Äô≈ìuvre dans une √©tude particuli√®re. Au point 1, nous avons soulign√© la relation √©troite entre les m√©canismes et la th√©orie. Ce n‚Äôest pas parce qu‚Äôil est difficile de quantifier directement les preuves d‚Äôun m√©canisme que nous ne pouvons pas explorer les pr√©dictions testables de la th√©orie dans laquelle notre m√©canisme est pr√©sent√© !</p>
<p>Une strat√©gie consiste √† utiliser l‚Äôanalyse de sous-groupe, ou des interactions de traitement par covariable, pour voir si diff√©rentes populations r√©pondent au traitement diff√©remment conform√©ment √† nos th√©ories. Par exemple, supposons que nous voulions en savoir plus sur le r√¥le du revenu dans la m√©diation de la relation climat/conflit. L‚Äôune des implications v√©rifiables d‚Äôune th√©orie dans laquelle le revenu joue un r√¥le m√©diateur est que nous nous attendrions √† ce que les chocs climatiques soient associ√©s √† des conflits dans les zones o√π le revenu est sensible aux chocs climatiques mais pas l√† o√π le revenu est ind√©pendant des chocs climatiques. Sarsons (2015)<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> fait exactement cela. Exploitant le fait que les districts en aval des barrages d‚Äôirrigation ne d√©pendent pas des pr√©cipitations pour leur revenu contrairement aux districts en amont, elle explore le m√©canisme de revenu en testant si les chocs pluviom√©triques pr√©disent l‚Äôincidence des √©meutes dans les districts en aval mais pas dans les districts en amont. Formellement, elle teste ces hypoth√®ses :</p>
<ul>
<li>X<span class="math inline">\(\rightarrow\)</span>Y dans les endroits o√π X est connu pour affecter M [Les chocs pluviom√©triques augmenteront les √©meutes dans les zones o√π les chocs pluviom√©triques affecteront n√©gativement les revenus (en amont du barrage).]</li>
<li>X n‚Äôa pas d‚Äôeffet sur Y dans les endroits o√π X n‚Äôa pas d‚Äôeffet sur M [Les chocs pluviom√©triques n‚Äôauront aucun effet sur les √©meutes dans les zones o√π le revenu n‚Äôest pas sensible aux pr√©cipitations (en aval du barrage).]</li>
</ul>
<p>Cependant, elle a constat√© que la relation entre les chocs pluviom√©triques et l‚Äôincidence des √©meutes √©tait tout aussi √©troite dans les districts en aval o√π le revenu n‚Äô√©tait pas sensible aux pr√©cipitations. Elle interpr√®te ce r√©sultat comme une preuve ‚Äúsuggestive‚Äù <em>contre</em> le m√©canisme de revenu. Pour √™tre clair, Sarsons n‚Äôa men√© aucune analyse de m√©diation : elle n‚Äôa pas mesur√© le revenu de chaque village et quantifi√© l‚Äôeffet direct des chocs pluviom√©triques sur les √©meutes et l‚Äôeffet indirect des chocs pluviom√©triques sur les √©meutes par le biais des revenus. Au lieu de cela, elle a recherch√© un effet du traitement h√©t√©rog√®ne que la th√©orie aurait impliqu√© et, n‚Äôen trouvant aucune preuve, a conclu que le m√©canisme de revenu peut √™tre moins important qu‚Äôon ne le pensait auparavant.</p>
<p><strong>Ce que vous pouvez faire‚Ä¶</strong> Dans les projets futurs, demandez-vous : si le m√©canisme est M, pour quels groupes ou unit√©s s‚Äôattendre √† un effet de traitement, et pour quels groupes ou unit√©s ne pas s‚Äôattendre √† une r√©ponse au traitement ? Ensuite, testez si ces pr√©dictions sont √©tay√©es par vos donn√©es et interpr√©tez cela comme une preuve suggestive pour ou contre le m√©canisme propos√© M. Gardez √† l‚Äôesprit que de telles preuves ne sont pas d√©cisives car les groupes pourraient diff√©rer d‚Äôautres mani√®res qui pourraient affecter leur r√©action au traitement.</p>
</section>
<section id="nous-pouvons-√©galement-rechercher-des-preuves-suggestives-en-examinant-leffet-de-notre-traitement-sur-divers-r√©sultats." class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Nous pouvons √©galement rechercher des preuves suggestives en examinant l‚Äôeffet de notre traitement sur divers r√©sultats.</h1>
<p>Encore une fois, bien qu‚Äôil soit difficile de quantifier les preuves d‚Äôun m√©canisme √† l‚Äô≈ìuvre, nous pouvons toujours explorer les implications v√©rifiables de la th√©orie dans laquelle notre m√©canisme appara√Æt. Au point 7, nous l‚Äôavons fait en se demandant si le traitement a affect√© des sous-groupes particuliers pour lesquels un effet de traitement est induit par notre th√©orie. Une autre approche consiste √† explorer si le traitement affecte uniquement les r√©sultats induits par notre th√©orie.</p>
<p>Par exemple, de nombreux chercheurs en sciences sociales s‚Äôint√©ressent √† la mani√®re dont l‚Äô√©ducation de masse influence la d√©mocratie. Plusieurs th√©ories de la d√©mocratisation s‚Äôattendent √† ce que diff√©rents m√©canismes relient l‚Äô√©ducation et la d√©mocratie. Premi√®rement, selon la th√©orie de la modernisation, l‚Äô√©ducation pourrait faciliter le bon fonctionnement de la d√©mocratie en sapant les attachements au groupe (comme l‚Äôappartenance ethnique ou la religion) au profit du m√©rite.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> Deuxi√®mement, selon les th√©oriciens sociaux de l‚Äôoppression, l‚Äô√©ducation pourrait saper la d√©mocratie en renfor√ßant l‚Äôob√©issance √† l‚Äôautorit√©, qui est inh√©rente √† une structure de classe.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> Troisi√®mement, selon de nombreux politologues et psychologues, l‚Äô√©ducation peut encourager la participation d√©mocratique en donnant aux individus la capacit√© d‚Äôacqu√©rir et d‚Äôagir sur la connaissance.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> Friedman et al.&nbsp;(2011)<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> d√©cident de s√©parer ces m√©canismes en enqu√™tant sur les r√©sultats d‚Äôune exp√©rience de terrain dans laquelle des filles kenyanes ont √©t√© assign√©es de mani√®re al√©atoire pour recevoir une subvention √† l‚Äô√©ducation. Ils ont effectu√© un suivi aupr√®s des √©l√®ves cinq ans apr√®s le programme et leur ont pos√© plusieurs questions visant √† tester lequel de ces trois m√©canismes √©tait √† l‚Äô≈ìuvre : les filles ont-elles accept√© le droit d‚Äôun mari de battre sa femme ? Un parent a-t-il particip√© au choix de son mari? Dans quelle mesure la fille s‚Äôest-elle identifi√©e √† son groupe religieux ou ethnique ? La fille lisait-elle r√©guli√®rement les actualit√©s ?</p>
<p>Le tableau suivant d√©crit la direction des effets que chaque th√©orie sugg√©rerait. Notez que les divers m√©canismes test√©s ici r√©sultent de th√©ories avec des pr√©dictions divergentes sur certains de ces r√©sultats. Les pr√©dictions de chacun des trois m√©canismes sont d√©crites sur les lignes, suivies des r√©sultats r√©els. Nous pouvons voir que deux des r√©sultats recueillis appuient la th√©orie de la modernisation. Cependant, la th√©orie de la modernisation aurait pr√©dit une diminution de l‚Äôappartenance aux groupes religieux ou ethniques (en r√©alit√©, il n‚Äôy avait aucun effet) et n‚Äôaurait eu aucune pr√©diction pour la lecture des actualit√©s (en r√©alit√©, la lecture des actualit√©s a augment√©). Aucune des pr√©dictions du m√©canisme d‚Äôob√©issance √† l‚Äôautorit√© n‚Äô√©tait √©tay√©e par les donn√©es. Cependant, les donn√©es corroboraient les quatre pr√©dictions de la th√©orie de l‚Äôautonomisation individuelle. Les auteurs concluent qu‚Äôil est plus probable que <span class="math inline">\(X‚ÜíM3‚ÜíY\)</span> que <span class="math inline">\(X‚ÜíM1,M2‚ÜíY\)</span>.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>M√©canisme</th>
<th>Acceptation du droit du mari de battre sa femme (Y1)</th>
<th>Parent impliqu√© dans la s√©lection du mari (Y2)</th>
<th>Association avec la religion, l‚Äôidentit√© ethnique (Y3)</th>
<th>Lit les actualit√©s (Y4)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(M1) Modernisation</td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td>Pas d‚Äôeffet</td>
</tr>
<tr class="even">
<td>(M2) Ob√©issance √† l‚Äôautorit√©</td>
<td><span class="math inline">\(\uparrow\)</span></td>
<td><span class="math inline">\(\uparrow\)</span></td>
<td><span class="math inline">\(\uparrow\)</span></td>
<td>Pas d‚Äôeffet</td>
</tr>
<tr class="odd">
<td>(M3) Autonomisation individuelle</td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td>Pas d‚Äôeffet</td>
<td><span class="math inline">\(\uparrow\)</span></td>
</tr>
<tr class="even">
<td>Effet r√©el</td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td><span class="math inline">\(\downarrow\)</span></td>
<td>Pas d‚Äôeffet</td>
<td><span class="math inline">\(\uparrow\)</span></td>
</tr>
</tbody>
</table>
<p>Cette √©tude, comme l‚Äô√©tude de Sarsons, n‚Äôessaie pas de quantifier dans quelle mesure l‚Äôeffet de X sur Y est transmis via M. Cependant, gr√¢ce √† une enqu√™te approfondie sur divers r√©sultats, les auteurs sont en mesure de fournir des preuves suggestives des m√©canismes qui semblent les plus plausibles.</p>
<p><strong>Ce que vous pouvez faire‚Ä¶</strong> Dans de futurs projets, posez-vous la question : si le m√©canisme est M, devrais-je m‚Äôattendre √† ce le traitement affecte certains r√©sultats ? Devrais-je m‚Äôattendre √† ce le traitement n‚Äôaffecte pas certains r√©sultats ? Ensuite, testez si ces pr√©dictions sont √©tay√©es par vos donn√©es et interpr√©tez cela comme une preuve suggestive pour ou contre le m√©canisme propos√© M.</p>
</section>
<section id="l√©laboration-de-traitements-complexes-peut-aider-√†-comprendre-quelle-partie-du-traitement-produit-leffet." class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> L‚Äô√©laboration de traitements complexes peut aider √† comprendre quelle partie du traitement ‚Äúproduit l‚Äôeffet‚Äù.</h1>
<p>Parfois, les chercheurs exp√©rimentaux essaieront de mieux comprendre les m√©canismes en ajoutant ou en soustrayant des √©l√©ments du traitement qui sont cens√©s d√©clencher diff√©rents m√©canismes. Cette approche est parfois appel√©e ‚Äúanalyse de m√©diation implicite‚Äù car diff√©rents composants de X sont cens√©s manipuler <em>implicitement</em> certains m√©canismes. Ceci, bien s√ªr, est une hypoth√®se : parce que nous ne mesurons pas M directement, nous nous appuyons sur une affirmation th√©orique selon laquelle le composant A d√©clenchera M, alors que le composant B ne le fera pas.</p>
<p>Par exemple, de nombreux gouvernements, dont le Mexique, le Br√©sil, la Tanzanie ou l‚ÄôOuganda, ont cr√©√© des programmes de transferts mon√©taires conditionnels pour lutter contre la pauvret√©. Ces programmes fournissent de l‚Äôargent aux personnes pauvres, mais ils sont souvent assortis de conditions telles que la fr√©quentation d‚Äôune √©cole ou un programme de formation professionnelle. Jusqu‚Äô√† r√©cemment, nous savions seulement que ces programmes (X) r√©ussissaient √† r√©duire la pauvret√© (Y) et que X provoquait Y soit via le cash re√ßu, soit via l‚Äôassiduit√© requise √† l‚Äô√©cole ou aux programmes d‚Äôemploi. Pour distinguer ces m√©canismes, Baird et al.&nbsp;(2011)<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> ont men√© une exp√©rience au Malawi, o√π ils ont assign√© un groupe de familles pour recevoir un transfert en cash <em>conditionnel</em> √† la fr√©quentation scolaire r√©guli√®re de leurs filles, un autre groupe de familles pour recevoir l‚Äôargent <em>sans condition</em>, et un groupe de contr√¥le pour ne recevoir aucun transfert. Cette conception manipulait ‚Äúimplicitement‚Äù M : alors que les filles du groupe de transfert inconditionnel pouvaient √©galement poursuivre une √©ducation, la fr√©quentation scolaire (la condition √©tudi√©e) serait probablement plus √©lev√©e dans le groupe qui devait la poursuivre. Sans surprise, la fr√©quentation scolaire et les r√©sultats aux tests √©taient meilleurs pour le groupe recevant des transferts mon√©taires conditionnels. Cependant, leurs mesures de Y - le taux auquel les filles sont tomb√©es enceintes ou se sont mari√©es - √©taient en fait meilleures (inf√©rieures) dans le groupe recevant les transferts mon√©taires inconditionnels. Les auteurs ont conclu que les exigences de fr√©quentation associ√©es aux transferts mon√©taires conditionnels n‚Äô√©taient probablement pas le m√©canisme responsable du succ√®s de ces programmes dans la r√©duction des sympt√¥mes de la pauvret√©.</p>
<p>Des √©tudes comme celles-ci aident non seulement les chercheurs en sciences sociales √† en savoir plus sur les canaux par lesquels X provoque Y, mais aussi les d√©cideurs politiques √† explorer et d√©couvrir de nouveaux traitements. Apr√®s plusieurs autres √©tudes ont confirm√© Baird et al.&nbsp;en d√©montrant les effets remarquables des transferts mon√©taires inconditionnels, de nombreux gouvernements et organisations ont commenc√© √† mettre en ≈ìuvre des programmes de transferts mon√©taires inconditionnels.</p>
<p><strong>Ce que vous pouvez faire‚Ä¶</strong> Dans les projets futurs, posez-vous la question : mon traitement peut-il √™tre ‚Äúd√©compos√©‚Äù en plusieurs bras de traitement, certains qui manipulent implicitement M, et d‚Äôautres non ? Envisagez d‚Äôutiliser une conception factorielle pour identifier les effets des diff√©rents bras de traitement. Si vous disposez de suffisamment de puissance statistique, la comparaison des diff√©rents bras de traitement vous fournira des preuves suggestives pour ou contre M.</p>
</section>
<section id="malgr√©-les-difficult√©s-√†-mesurer-empiriquement-les-m√©canismes-il-convient-de-sy-attarder-s√©rieusement-mais-d√™tre-prudent-dans-notre-langage." class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Malgr√© les difficult√©s √† mesurer empiriquement les m√©canismes, il convient de s‚Äôy attarder s√©rieusement mais d‚Äô√™tre prudent dans notre langage.</h1>
<p>Tenter d‚Äôidentifier les m√©canismes causaux est une entreprise noble. Articuler les m√©canismes causaux est ce qui nous permet de mieux comprendre le traitement en ‚Äúbo√Æte noire‚Äù et de comprendre pourquoi et comment certains traitements fonctionnent. M√™me si les affirmations causales peuvent √™tre (et sont souvent) faites sans preuves d‚Äôun m√©canisme causal, l‚Äôexploration des m√©canismes causaux est ce qui nous permet d‚Äô√©tendre la fronti√®re de la recherche et de r√©√©valuer la fa√ßon dont nos preuves correspondent √† nos th√©ories. Pour ces raisons, le public (qu‚Äôil s‚Äôagisse du grand public ou des relecteurs universitaires) est souvent naturellement impatient que vous exposiez les m√©canismes causaux apr√®s avoir d√©montr√© des preuves d‚Äôune assertion causale provocatrice. En pr√©vision de cela, il convient de se demander s‚Äôil est possible de concevoir un moyen de tester les m√©canismes causaux avant de mener une exp√©rience. Si ce n‚Äôest pas le cas, demandez-vous si certaines mesures de r√©sultats ou un traitement par interaction de covariables apporteraient du cr√©dit √† un m√©canisme causal particulier, et soyez explicite sur les limites de ce type d‚Äôanalyse dans votre article. Les m√©canismes sont un domaine d‚Äôinvestigation passionnant et doivent √™tre pris en compte √† la fois dans la conception et l‚Äôanalyse d‚Äôune exp√©rience, mais nous devons nous assurer de discuter des m√©canismes avec une prudence adapt√©e √† notre capacit√© √† identifier un m√©canisme particulier et √† √©viter de le surestimer.</p>


</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Solomon M. Hsiang, Kyle C. Meng et Mark A. Cane, ‚ÄúCivil Conflicts Are Associated with the Global Climate,‚Äù Nature 476.7361 (2011): 438-441.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>Ted Gurr, Why Men Rebel, Princeton University Press, 1970.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>Alberto Chong, Ana L. de la O, Dean Karlan et Leonard Wantchekon, ‚ÄúDoes Corruption Information Inspire the Fight or Quash the Hope? A Field Experiment in Mexico on Voter Turnout, Choice, and Party Identification,‚Äù The Journal of Politics 77.1 (2015): 55-71.<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>Notez que Chong et al.&nbsp;testent leur argument en utilisant des donn√©es au niveau de l‚Äôarrondissement, pas au niveau individuel, mais nous avons adapt√© leur argument au niveau individuel pour faciliter l‚Äôexplication.<a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p>Pour une discussion plus rigoureuse de ces fausses conceptions, voir Adam N. Glynn, ‚ÄúThe Product and Difference Fallacies for Indirect Effects,‚Äù American Journal of Political Science 56.1 (2012): 257-269.<a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>Explication adapt√©e d‚ÄôAlan Gerber et Donald Green, Field Experiments, W.W. Norton and Company, 2012, chapter 10.<a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p>Heather Sarsons, ‚ÄúRainfall and Conflict: A Cautionary Tale.‚Äù Journal of Development Economics 115 (2015): 62-72.<a href="#fnref7" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p>Marion Joseph Levy, Modernization and the Structure of Societies, Princeton University Press, 1966.<a href="#fnref8" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p>Frantz Fanon, The Wretched of the Earth, Grove Press, 1964. John Lott, Jr., ‚ÄúPublic Schooling, Indoctrination and Totalitarianism,‚Äù Journal of Political Economy 107(6), 1999.<a href="#fnref9" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn10"><p>Gabriel Almond et Sidney Verba, The Civic Culture: Political Attitudes and Democracy in Five Nations, Sage Publications, 1963. Robert Mattes et Michael Bratton, ‚ÄúLearning about Democracy in Africa: Awareness, Performance, and Experience,‚Äù American Journal of Political Science, 51(1), 2007.<a href="#fnref10" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn11"><p>Willa Friedman, Michael Kremer, Edward Miguel et Rebecca Thornton, ‚ÄúEducation as Liberation?‚Äù NBER Working Paper 16939, 2011.<a href="#fnref11" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn12"><p>Dans l‚Äô√©tude proprement dite, les auteurs ont √©t√© surpris de d√©couvrir des preuves que l‚Äô√©ducation augmentait √©galement l‚Äôacceptation de la violence politique par les individus. S‚Äôils soutiennent toujours que l‚Äôautonomisation individuelle est responsable de la relation entre l‚Äô√©ducation et la d√©mocratie, ils avertissent que l‚Äô√©ducation ne conduit pas toujours √† la d√©mocratisation (c‚Äôest-√†-dire M3‚ÜíY mais il est √©galement possible que M3‚ÜíNON Y). N√©anmoins, leur approche est une d√©monstration utile de la fa√ßon dont de multiples r√©sultats peuvent √©clairer les m√©canismes.<a href="#fnref12" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn13"><p>Sarah Baird, Craig McIntosh, Berk Ozler, ‚ÄúCash or Condition? Evidence from a Cash Transfer Experiment,‚Äù Quarterly Journal of Economics 126, 2011.<a href="#fnref13" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/methods\.egap\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>